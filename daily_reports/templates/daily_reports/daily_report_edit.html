{% extends 'base.html' %}

{% block title %}日報の編集{% endblock title %}

{% block content %}
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <section class="career">
        <h1 class="text-center mb-4">日報の更新</h1>
        <form method="POST">
          {% csrf_token %}
          <div class="mb-3">
            {{ form.as_p }}
          </div>
          <button class="btn btn-primary" type="submit">登録</button>
        </form>
      </section>

      <section class="mt-4">
        <h2 class="text-center">コメント一覧</h2>
        <table class="table table-striped table-hover">
          <tr>
            <th class="table-secondary">コメント</th>
            <td style="word-wrap: break-word; white-space: normal;">
              {% for com in obj.dailyreportcomment_set.all %}
                <p><strong>コメント作成者:</strong> {{ com.employee_code.name }}</p>
                <p><strong>日時:</strong> {{ com.created_at }}</p>
                <p><strong>コメント:</strong> {{ com.comment }}</p>
                <hr>
              {% empty %}
                <p class="text-muted">まだコメントはありません。</p>
              {% endfor %}
            </td>
          </tr>
        </table>
      </section>
    </div>
  </div>
</div>
{% endblock %}
